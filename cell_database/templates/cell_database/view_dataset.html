{% extends "base_generic.html" %}

{% load static %}
{% block content %}


<style>
table {
    border-collapse:collapse;

}
table, th, td {
    border:1px solid black;}


</style>



<h1> Dataset: {{ dataset.name }} (<a href="{% url 'cell_database:vis_dataset' pk=dataset.id %}">Visualize</a>)</h1>


<form action="{% url 'cell_database:view_dataset' pk=dataset.id%}" method="post">
    {% csrf_token %}
    {{list_form}}
    <input type="submit" name = 'list_new_page' value="List New Page">
    <br>
    Showing page {{page_number}}/{{max_page_number}}.

{% if zipped_data %}
    <table>
        <tr>
            <th style="width:900px">Cell</th><th>Specific Name</th><th>Default Position</th><th>Default Color</th><th>Filters</th>
        </tr>
        {% for wet_cell, name, spec_name, pos_x, pos_y, color, filters in zipped_data %}
        <tr>
            <td>{{ name }}</td>
            <td>{{spec_name}}</td>
            <td>({{pos_x}},{{pos_y}})</td>
            <td style="background-color:{{color}}"> {{color}} </td>
            <td>

                <table>

                    {%for filt in filters %}
                    <tr>
                        <td>{{ filt.name }}</td>
                        <td style="background-color:{{filt.color}}">{{filt.color}}</td>
                        <td>{{filt.get_printed_rule}}</td>
                    </tr>
                    {%endfor%}
                </table>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>This dataset ({{ dataset.name }}) is empty.</p>
{% endif %}

</form>


{% endblock %}